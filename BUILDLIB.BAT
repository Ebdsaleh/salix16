@ECHO OFF
REM BUILDLIB.BAT
ECHO Building Salix16 Library

REM -- Assemble all modules ---
TASM /iINCLUDE SRC\CORE\DETECT.ASM, BUILD\DETECT.OBJ
TASM /iINCLUDE SRC\CORE\MEM_GAP.ASM, BUILD\MEM_GAP.OBJ
TASM /iINCLUDE SRC\INPUT\KBD.ASM, BUILD\KBD.OBJ
TASM /iINCLUDE SRC\INPUT\KBD_HW, BUILD\KBD_HW.OBJ
TASM /iINCLUDE SRC\VIDEO\VID_TEXT.ASM, BUILD\VID_TEXT.OBJ
TASM /iINCLUDE SRC\VIDEO\VID_GEOM.ASM, BUILD\VID_GEOM.OBJ
TASM /iINCLUDE SRC\VIDEO\VID_COMP.ASM, BUILD\VID_COMP.OBJ
TASM /iINCLUDE SRC\TUI\TUI_CORE.ASM, BUILD\TUI_CORE.OBJ
TASM /iINCLUDE SRC\TUI\TUI_MENU.ASM, BUILD\TUI_MENU.OBJ

REM --- Compile them into the library
REM The 'DEL' Command ensures we start with a fresh vault
IF EXIST BIN\SALIX16.LIB DEL BIN\SALIX16.LIB
TLIB BIN\SALIX16.LIB +BUILD\DETECT.OBJ +BUILD\MEM_GAP.OBJ +BUILD\KBD.OBJ +BUILD\KBD_HW.OBJ +BUILD\VID_TEXT.OBJ +BUILD\VID_GEOM.OBJ +BUILD\VID_COMP.OBJ +BUILD\TUI_CORE.OBJ +BUILD\TUI_MENU.OBJ

ECHO Salix16.lib Updated.